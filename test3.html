<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title></title>
    <script src="http://static.runoob.com/assets/react/react-0.14.7/build/react.min.js"></script>
    <script src="http://static.runoob.com/assets/react/react-0.14.7/build/react-dom.min.js"></script>
    <script src="http://static.runoob.com/assets/react/browser.min.js"></script>
</head>
<body>
<div id="example"></div>
<script type="text/babel">
   var Mycontainer = React.createClass({
       getInitialState:function(){
           return{
               totalChecked:0
           };
       },
       onhandchecked:function(newState){
           var newToye = this.state.totalChecked + (newState?1:-1);
           this.setState({
               totalChecked:newToye
           });
   },
       render:function(){
           var checked = this.state.checked;
           var totalChecked = this.state.totalChecked;
           return(
                   <div  checked={checked} >{totalChecked}
                   <Botton callbackParent={this.onhandchecked}/>
                   <Botton callbackParent={this.onhandchecked}/>
                   <Botton callbackParent={this.onhandchecked}/>
                   <Botton callbackParent={this.onhandchecked}/>
                   </div>
           );
       }
   });
   var Botton = React.createClass({
      getInitialState:function(){
          return{
            check:false

          }
      },
       onhandcheck:function(){
           var newState = !this.state.check;
           this.setState({
               check:newState
           });
           // 这里要注意：setState 是一个异步方法，所以需要操作缓存的当前值
           this.props.callbackParent(newState);
       },
       render:function(){
           var check = !this.state.check?'false':'true';
           return(
               <div>
               <input type="checkbox" check={check} onChange={this.onhandcheck} />{check}
           </div>
           );
       }
   });
    ReactDOM.render(
    <Mycontainer/>
            ,
            document.getElementById('example')
    );
</script>
</body>
</html>
